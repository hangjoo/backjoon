## 문제

n가지 종류의 동전이 있다. 각각의 동전이 나타내는 가치는 다르다. 이 동전을 적당히 사용해서, 그 가치의 합이 k원이 되도록 하고 싶다. 그 경우의 수를 구하시오. 각각의 동전은 몇 개라도 사용할 수 있다.

사용한 동전의 구성이 같은데, 순서만 다른 것은 같은 경우이다.

---

## 입력

첫째 줄에 n, k가 주어진다. (1 ≤ n ≤ 100, 1 ≤ k ≤ 10,000) 다음 n개의 줄에는 각각의 동전의 가치가 주어진다. 동전의 가치는 100,000보다 작거나 같은 자연수이다.

---

## 출력

첫째 줄에 경우의 수를 출력한다. 경우의 수는 $2^{31}$보다 작다.

---

## 풀이

```python
n, k = list(map(int, input().split()))
coins = [int(input()) for _ in range(n)]
dp = [0 for _ in range(k + 1)]
dp[0] = 1

for coin in coins:
    for i in range(1, k + 1):
        if i - coin >= 0:
            dp[i] += dp[i - coin]

print(dp[-1])
```

주어진 각기 다른 가치의 동전들을 사용해서 가치의 합이 k원이 되도록 하는 경우의 수를 구하는 문제입니다.

먼저 메모이제이션을 위한 캐시를 k+1의 길이를 가진 dp 리스트를 생성하고 0으로 초기화합니다. 그리고 모든 코인에 대해 아래와 같은 수식을 코드로 구현하여 알고리즘을 구현합니다.
$$
For \; each \; coin) \; dp[i] \; += \; dp[i - coin]
$$
처음 동전을 사용하여 가치의 합이 i가 되는 경우의 수를 구하고, 두번째 동전은 가치가 coin이라고 할 때 가치의 합이 i가 되는 경우의 수는 첫번째 동전만을 사용하여 i가 되는 경우의 수와 가치의 합이 i-coin일 때 coin을 사용하면 가치의 합이 i가 되므로 해당 경우의 수의 합이 됩니다. 

예를 들어 각 1, 2, 5의 가치를 지닌 동전을 가지고 가치의 합이 10원이 되도록 한다면, 먼저 1원의 동전을 가지고 가치의 합이 1원부터 시작하여 10원까지 순회하며 위의 공식을 사용하여 dp를 저장합니다.

| coin    | 0    | 1     | 2     | 3     | 4     | 5     | 6     | 7     | 8     | 9     | 10    |
| ------- | ---- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- |
| 1       | 1    | 1     | 1     | 1     | 1     | 1     | 1     | 1     | 1     | 1     | 1     |
| **sum** |      | **1** | **1** | **1** | **1** | **1** | **1** | **1** | **1** | **1** | **1** |

위의 표는 1원의 동전을 사용하여 경우의 수를 기록한 표입니다. 이 때 dp[0]은 만약 1원짜리 동전을 사용하여 가치가 1이 되도록 했을 때 경우의 수가 1이 되도록 처리하기 위해 1을 저장합니다. 다음으로 2의 가치를 지닌 동전을 사용하여 경우의 수를 구하면 아래의 표와 같은 결과를 얻을 수 있습니다.

| coin    | 0    | 1     | 2     | 3     | 4     | 5     | 6     | 7     | 8     | 9     | 10    |
| ------- | ---- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- |
| 1       | 1    | 1     | 1     | 1     | 1     | 1     | 1     | 1     | 1     | 1     | 1     |
| 2       |      |       | 1     | 1     | 2     | 2     | 3     | 3     | 4     | 4     | 5     |
| **sum** |      | **1** | **2** | **2** | **3** | **3** | **4** | **4** | **5** | **5** | **6** |

같은 방법으로 가치 5의 동전을 사용하면,

| coin    | 0    | 1     | 2     | 3     | 4     | 5     | 6     | 7     | 8     | 9     | 10     |
| ------- | ---- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ------ |
| 1       | 1    | 1     | 1     | 1     | 1     | 1     | 1     | 1     | 1     | 1     | 1      |
| 2       |      |       | 1     | 1     | 2     | 2     | 3     | 3     | 4     | 4     | 5      |
| 5       |      |       |       |       |       | 1     | 1     | 2     | 2     | 3     | 4      |
| **sum** |      | **1** | **2** | **2** | **3** | **4** | **5** | **6** | **7** | **8** | **10** |

가치 1, 2, 5를 가진 3개의 동전을 사용하여 가치의 합이 10이 되도록 하는 경우의 수는 10임을 구할 수 있습니다.

개인적으로 문제를 분할해서 동적계획법을 적용시키는데 많은 시간이 걸렸습니다. 계속 동전을 한번에 묶어서 경우의 수를 세다보니 문제을 분할하는 방법이 잘 안보여서 고생했던 문제였습니다.